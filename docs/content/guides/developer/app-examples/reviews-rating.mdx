---
title: Reviews Rating
---

The following documentation goes through an example implementation of a review-rating platform for the food service industry on Sui. By leveraging blockchain to allow reviewers to own and monetize their feedback, the onchain platform ensures transparency and temper-proof ratings.

## Personas

### Service Owner
- Lists his/her services (restaurant) on the platform
- Creates rewards pool to give incentives to reviewers
  - By allocating a certain amount of tokens (SUI) in a rewards pool, a service owner can give incentives to reviewers to provide genuine feedback
- Generates a Proof of Experience (PoE) NFT for a reviewer who can burn it to submit a higher rated review
  - The customers can be given a unique identifier (also could be in the form of QR code) for dining at the restaurant which would allow them to submit a Verified Review. Verified reviews are weighted more heavily than unverified reviews when they are rated.

### Reviewer
- Searches for a business and submits a review, detailing aspects like ambience, food quality, pricing, along with a star rating
- Collects rewards from writing a high-rated reviews
  - Top 10 reviews are awarded by service owner
### Consumer
- Reads reviews to make informed decisions
- Rates a review by casting up/down votes
### Moderator
- Deletes reviews that contain inappropriate content

## How reviews are rated
The reviews are rated (scored) onchain using following criteria
- Intrinsic Score (IS)
  - length of content
- Extrinsic Score (ES)
  - number of votes received
- Verification Multiplier (VM)
  - Reviews with Proof of Experience get a multiplier
```
Total Score = (IS + ES) * VM
```

## Smart contracts

### dashboard.move
This module defines Dashboard struct which is used to group services.
```move
    struct Dashboard has key, store {
        id: UID,
        set: VecSet<ID>,
        service_type: String
    }
```
The services (restaurants) are grouped by attributes, which can be cuisine type, geographical location, operating hours, google maps ID, etc. To keep it simple, we store only service_type (i.e. fast food, chinese, italian)

### service.move
This module defines Services struct which is managed by a service owner.
```move
    struct Service has key, store {
        id: UID,
        reward_pool: Balance<SUI>,
        reward: u64,
        reviews: MultiMap<ID>,
        moderators: VecSet<address>,
        overall_rate: u64,
        name: String
    }
```

All the submitted reviews are stored in ***reviews*** field which has ***MultiMap<ID\>*** type. MultiMap is our implementation of Multimap data structure (https://en.wikipedia.org/wiki/Multimap) which keeps all the reviews sorted. Using MultiMap, all the reviews are ordered such that the high rated reviews come first.

***reward_pool*** and ***reward*** are available to attract reviewers to submit their reviews.

### review.move
This module defines Review struct.
```move
    struct Review has key, store {
        id: UID,
        owner: address,
        service_id: ID,
        content: String,
        // is
        len: u64,
        // es
        votes: u64,
        time_issued: u64,
        // vm: proof of experience
        has_poe: bool,
        // total score
        ts: u64,
        overall_rate: u8,
    }
```
In addition to the content of a review, all the elements that are required to compute total score are stored in a Review object.

## Backend
No backend service is required to run this platform. All data is stored onchain and reviews are rated and sorted onchain!

## Frontend
A React frontend is implemented and is available at https://github.com/MystenLabs/reviews-ratings-poc
